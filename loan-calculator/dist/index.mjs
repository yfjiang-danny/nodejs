var o=class{constructor(){this.total=0;this.yRate=0;this.year=0;this.mRate=0;this.type=1;this.monthlyPay=0;this.detail=[];this.detailMap=new Map}init(t=0,e=.037,a=30,i=1){this.total=t,this.yRate=e,this.mRate=e/12,this.year=a,this.type=i,this.calculate()}calculate(){let t=this.total,e=this.type,a=this.year;var i=this.mRate;this.monthlyPay=t*i*Math.pow(1+i,a*12)/(Math.pow(1+i,a*12)-1);let l=this.calculateInType1(),r=this.calculateInType2();this.detailMap.set(1,l),this.detailMap.set(2,r),e==1?this.detail=l:e==2&&(this.detail=r)}setType(t){this.type=t,this.calculate()}setTotal(t){this.total=t,this.calculate()}setYRate(t){this.yRate=t,this.mRate=t/12,this.calculate()}setYear(t){this.year=t,this.calculate()}checkInitial(){if(!this.detail)throw new Error("LoanCalculator is not initial yet.Please call LoanCalculator.init to init")}getInterest(t){if(this.checkInitial(),this.detail&&this.detail.length>0){var e=typeof t=="number"?t-1:this.detail.length-1,a=this.detail[e];return a?a[2]:0}}calculateInType1(){var t=this.total,e=this.year,a=this.mRate,i=this.monthlyPay,l=[],r=0;for(let n=0;n<e*12;n++){var s=t*a;r+=s,t-=i-s,l[n]=[i,t,r]}return l}calculateInType2(){var t=this.total,e=this.year,a=this.mRate,i=t/(e*12),l=[],r=0;for(let h=0;h<e*12;h++){var s=t*a;r+=s;var n=i+s;t-=i,l[h]=[n,t,r]}return l}getDetail(){return this.checkInitial(),this.detail}getLoan(t){this.checkInitial();var e=this.detail[t-1];return e?e[1]:0}toString(){this.checkInitial();var t=this.detail,e="";for(let a=0;a<t.length;a++){let i=t[a];e+="["+i[0].toFixed(0)+","+i[1].toFixed(0)+"]"}return e}},y=o;export{y as default};
