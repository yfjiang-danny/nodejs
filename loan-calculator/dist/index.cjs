"use strict";var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var m=(l,t)=>{for(var e in t)c(l,e,{get:t[e],enumerable:!0})},v=(l,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of u(t))!d.call(l,a)&&a!==e&&c(l,a,{get:()=>t[a],enumerable:!(i=p(t,a))||i.enumerable});return l};var b=l=>v(c({},"__esModule",{value:!0}),l);var D={};m(D,{default:()=>L});module.exports=b(D);var y=class{constructor(){this.total=0;this.yRate=0;this.year=0;this.mRate=0;this.type=1;this.monthlyPay=0;this.detail=[];this.detailMap=new Map}init(t=0,e=.037,i=30,a=1){this.total=t,this.yRate=e,this.mRate=e/12,this.year=i,this.type=a,this.calculate()}calculate(){let t=this.total,e=this.type,i=this.year;var a=this.mRate;this.monthlyPay=t*a*Math.pow(1+a,i*12)/(Math.pow(1+a,i*12)-1);let r=this.calculateInType1(),s=this.calculateInType2();this.detailMap.set(1,r),this.detailMap.set(2,s),e==1?this.detail=r:e==2&&(this.detail=s)}setType(t){this.type=t,this.calculate()}setTotal(t){this.total=t,this.calculate()}setYRate(t){this.yRate=t,this.mRate=t/12,this.calculate()}setYear(t){this.year=t,this.calculate()}checkInitial(){if(!this.detail)throw new Error("LoanCalculator is not initial yet.Please call LoanCalculator.init to init")}getInterest(t){if(this.checkInitial(),this.detail&&this.detail.length>0){var e=typeof t=="number"?t-1:this.detail.length-1,i=this.detail[e];return i?i[2]:0}}calculateInType1(){var t=this.total,e=this.year,i=this.mRate,a=this.monthlyPay,r=[],s=0;for(let h=0;h<e*12;h++){var n=t*i;s+=n,t-=a-n,r[h]=[a,t,s]}return r}calculateInType2(){var t=this.total,e=this.year,i=this.mRate,a=t/(e*12),r=[],s=0;for(let o=0;o<e*12;o++){var n=t*i;s+=n;var h=a+n;t-=a,r[o]=[h,t,s]}return r}getDetail(){return this.checkInitial(),this.detail}getLoan(t){this.checkInitial();var e=this.detail[t-1];return e?e[1]:0}toString(){this.checkInitial();var t=this.detail,e="";for(let i=0;i<t.length;i++){let a=t[i];e+="["+a[0].toFixed(0)+","+a[1].toFixed(0)+"]"}return e}},L=y;
